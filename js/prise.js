const pizzaMenu1 = [
  {
    id: "#OP0201",
    name: "포개더",
    type: "골드",
    smallPrice: 32000,
    largePrice: 39500,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2023314151710070.jpg",
  },
  {
    id: "#OP0202",
    name: "포개더",
    type: "크림치즈",
    smallPrice: 32000,
    largePrice: 49500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20233141521172.jpg",
  },
  {
    id: "#OP0203",
    name: "포개더",
    type: "오리진",
    smallPrice: 31000,
    largePrice: 38500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2023314142859082.jpg",
  },
  {
    id: "#OP0204",
    name: "포개더",
    type: "치즈캡",
    smallPrice: 35500,
    largePrice: 43000,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2023314153028392.jpg",
  },
  {
    id: "#OP0205",
    name: "포개더",
    type: "에그타르트",
    smallPrice: 32000,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2023314152452464.jpg",
  },
];
const pizzaMenu2 = [
  {
    id: "#OP0206",
    name: "킹 브레드 쉬림프 골드",
    type: "골드",
    smallPrice: 35000,
    largePrice: 41500,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2022112192334891.jpg",
  },
  {
    id: "#OP0207",
    name: "킹 브레드 쉬림프 골드",
    type: "크림치즈",
    smallPrice: 35000,
    largePrice: 41500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2022112192334891.jpg",
  },
  {
    id: "#OP0208",
    name: "킹 브레드 쉬림프 골드",
    type: "오리진",
    smallPrice: 33000,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2022112192627721.jpg",
  },
  {
    id: "#OP0209",
    name: "킹 브레드 쉬림프 골드",
    type: "치즈캡",
    smallPrice: 37500,
    largePrice: 44000,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/202211219241426.jpg",
  },
  {
    id: "#OP0210",
    name: "킹 브레드 쉬림프 골드",
    type: "에그타르트",
    smallPrice: 35000,
    largePrice: 41500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/202211219256086.jpg",
  },
];
const pizzaMenu3 = [
  {
    id: "#OP0211",
    name: "킹 브레드 쉬림프 골드 칠리",
    type: "골드",
    smallPrice: 35000,
    largePrice: 41500,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2022112192334891.jpg",
  },
  {
    id: "#OP0212",
    name: "킹 브레드 쉬림프 골드 칠리",
    type: "크림치즈",
    smallPrice: 35000,
    largePrice: 41500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2022112192334891.jpg",
  },
  {
    id: "#OP0213",
    name: "킹 브레드 쉬림프 골드 칠리",
    type: "오리진",
    smallPrice: 33000,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2022112192627721.jpg",
  },
  {
    id: "#OP0214",
    name: "킹 브레드 쉬림프 골드 칠리",
    type: "치즈캡",
    smallPrice: 37500,
    largePrice: 44000,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/202211219241426.jpg",
  },
  {
    id: "#OP0215",
    name: "킹 브레드 쉬림프 골드 칠리",
    type: "에그타르트",
    smallPrice: 35000,
    largePrice: 41500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/202211219256086.jpg",
  },
];
const pizzaMenu4 = [
  {
    id: "#OP0216",
    name: "햄벅한새우",
    type: "골드",
    smallPrice: 33500,
    largePrice: 41500,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20201112153636027.jpg",
  },
  {
    id: "#OP0217",
    name: "햄벅한새우",
    type: "크림치즈",
    smallPrice: 33500,
    largePrice: 41500,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2020111618627452.jpg",
  },
  {
    id: "#OP0218",
    name: "햄벅한새우",
    type: "오리진",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20201112153536343.jpg",
  },
  {
    id: "#OP0219",
    name: "햄벅한새우",
    type: "치즈캡",
    smallPrice: 36000,
    largePrice: 44000,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2020112791451396.jpg",
  },
  {
    id: "#OP0220",
    name: "햄벅한새우",
    type: "에그타르트",
    smallPrice: 33500,
    largePrice: 41500,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20201112153718255.jpg",
  },
];
const pizzaMenu5 = [
  {
    id: "#OP0221",
    name: "미스터트리오",
    type: "골드",
    smallPrice: 33500,
    largePrice: 41500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2020713183051650.jpg",
  },
  {
    id: "#OP0222",
    name: "미스터트리오",
    type: "크림치즈",
    smallPrice: 33500,
    largePrice: 41500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2020713183051650.jpg",
  },
  {
    id: "#OP0223",
    name: "미스터트리오",
    type: "오리진",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2020713183051650.jpg",
  },
  {
    id: "#OP0224",
    name: "미스터트리오",
    type: "치즈캡",
    smallPrice: 36000,
    largePrice: 44000,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2020713185613352.jpg",
  },
  {
    id: "#OP0225",
    name: "미스터트리오",
    type: "에그타르트",
    smallPrice: 33500,
    largePrice: 41500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2021210142821532.jpg",
  },
];
const pizzaMenu6= [
  {
    id: "#OP0226",
    name: "치즈블라썸스테이크",
    type: "골드",
    smallPrice: 34000,
    largePrice: 41500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2023316112521633.png",
  },
  {
    id: "#OP0227",
    name: "치즈블라썸스테이크",
    type: "크림치즈",
    smallPrice: 34000,
    largePrice: 41500,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2023316133927892.png",
  },
  {
    id: "#OP0228",
    name: "치즈블라썸스테이크",
    type: "오리진",
    smallPrice: 32000,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2023316133821010.png",
  },
  {
    id: "#OP0229",
    name: "치즈블라썸스테이크",
    type: "치즈캡",
    smallPrice: 36500,
    largePrice: 44000,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2023316134218499.png",
  },
  {
    id: "#OP0230",
    name: "치즈블라썸스테이크",
    type: "에그타르트",
    smallPrice: 34000,
    largePrice: 41500,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/202331613415811.png",
  },
];
const pizzaMenu7= [
  {
    id: "#OP0231",
    name: "새우천왕",
    type: "골드",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2018530133324258.jpg",
  },
  {
    id: "#OP0232",
    name: "새우천왕",
    type: "크림치즈",
    smallPrice: 31500,
    largePrice: 39500,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20185301485342.jpg",
  },
  {
    id: "#OP0233",
    name: "새우천왕",
    type: "오리진",
    smallPrice: 30500,
    largePrice: 38500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/201853011381874.jpg",
  },
  {
    id: "#OP0234",
    name: "새우천왕",
    type: "치즈캡",
    smallPrice: 35000,
    largePrice: 43000,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2018530162537277.jpg",
  },
  {
    id: "#OP0235",
    name: "새우천왕",
    type: "에그타르트",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/(75).jpg",
  },
];
const pizzaMenu8= [
  {
    id: "#OP0236",
    name: "쉬림프 골드",
    type: "골드",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20151198579060.jpg",
  },
  {
    id: "#OP0237",
    name: "쉬림프 골드",
    type: "크림치즈",
    smallPrice: 31500,
    largePrice: 39500,
    image: 	"https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/201511910511035.jpg",
  },
  {
    id: "#OP0238",
    name: "쉬림프 골드",
    type: "오리진",
    smallPrice: 30500,
    largePrice: 38500,
    image: 	"https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/201511910500770.jpg",
  },
  {
    id: "#OP0239",
    name: "쉬림프 골드",
    type: "치즈캡",
    smallPrice: 35000,
    largePrice: 43000,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2015119105434334.jpg",
  },
  {
    id: "#OP0240",
    name: "쉬림프 골드",
    type: "에그타르트",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/2015119105733670.jpg",
  },
];
const pizzaMenu9= [
  {
    id: "#OP0241",
    name: "하프앤하프",
    type: "골드",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20186113109773.jpg",
  },
  {
    id: "#OP0242",
    name: "하프앤하프",
    type: "크림치즈",
    smallPrice: 31500,
    largePrice: 39500,
    image: 	"https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20186114297672.jpg",
  },
  {
    id: "#OP0243",
    name: "하프앤하프",
    type: "오리진",
    smallPrice: 30500,
    largePrice: 38500,
    image: 	"https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/201511910500770.jpg",
  },
  {
    id: "#OP0244",
    name: "하프앤하프",
    type: "치즈캡",
    smallPrice: 35000,
    largePrice: 43000,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/201861145333562.jpg",
  },
  {
    id: "#OP0245",
    name: "하프앤하프",
    type: "에그타르트",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20186115318329.jpg",
  },
];
const pizzaMenu10= [
  {
    id: "#OP0246",
    name: "포테이토 골드",
    type: "골드",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/20186111554536.jpg",
  },
  {
    id: "#OP0247",
    name: "포테이토 골드",
    type: "크림치즈",
    smallPrice: 31500,
    largePrice: 39500,
    image: 	"	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/201861142356514.jpg",
  },
  {
    id: "#OP0248",
    name: "포테이토 골드",
    type: "오리진",
    smallPrice: 30500,
    largePrice: 38500,
    image: 	"	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/201861142356514.jpg",
  },
  {
    id: "#OP0249",
    name: "포테이토 골드",
    type: "치즈캡",
    smallPrice: 35000,
    largePrice: 43000,
    image: "	https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/201861142356514.jpg",
  },
  {
    id: "#OP0250",
    name: "포테이토 골드",
    type: "에그타르트",
    smallPrice: 31500,
    largePrice: 39500,
    image: "https://cdn.mrpizza.co.kr/2011/uploadV1/product_new/201861135015196.jpg",
  },
];
const pizzaMenus = [pizzaMenu1, pizzaMenu2, pizzaMenu3, pizzaMenu4,pizzaMenu5,pizzaMenu6,pizzaMenu7,pizzaMenu8,pizzaMenu9,pizzaMenu10];

//선택한 피자
const elementM = document.querySelectorAll(".M");
const elementL = document.querySelectorAll(".L");
const elementmenutitle = document.querySelectorAll(".menutitle");
const menuImg = document.querySelectorAll(".pizzaselect");
let select;

for (let i = 0; i < pizzaMenus.length; i++) {
  const pizzaMenu = pizzaMenus[i];
  for (let x = 0; x < pizzaMenu.length; x++) {
    select = document.querySelector(pizzaMenu[x].id).addEventListener("click", (e) => {
      e.preventDefault();
      menuImg[i].src = pizzaMenu[x].image;
      elementM[i].innerText = pizzaMenu[x].smallPrice;
      elementL[i].innerText = pizzaMenu[x].largePrice;
      pizzaType = pizzaMenu[x].type;
      pizzaName = pizzaMenu[x].name;
      elementmenutitle[i].innerText = pizzaMenu[x].type;
    });
  }
}



const elementcart_num = document.getElementsByClassName("cart_num")[0]; //왼쪽빨간 장바구니
const deliveryMenuoption = document.querySelector("#deliveryMenuoption"); // 왼쪽 장바구니 내용
const elementbasketAll = document.querySelectorAll(".basket"); // 모든 장바구니
const menuOption = document.createElement("li"); //장바구니 창조
elementcart_num.innerText = 0; // 장바구니 숫자

for (i = 0; i < pizzaMenus.length; i++){
  elementbasketAll[i].addEventListener("click", (e) => {
    e.preventDefault();
    if (elementcart_num.innerText < 5) {
      elementcart_num.innerText++;
    } else {
      alert("수량은 5개까지 입니다. 문의주세요");
      return elementcart_num.innerText == 5;
    }
  });

}

const menuOptionAll = deliveryMenuoption.getElementsByClassName("menuOption");

function sumInputValues() {
  // 장바구니 토탈 수
  const spinner = document.querySelectorAll(".spinner");
  let total = 0;

  for (let i = 0; i < spinner.length; i++) {
    const value = Number(spinner[i].value);
    total += value;
  }
  return total;
}



//NOTE 장바구니 모양 클릭
let totalprise = 0;
function getSelectedRadioLabel() {
  const total = sumInputValues();
  console.log(menuOptionAll, "dfdd");
  if (menuOptionAll.length < 5 || total < 5) {
    const Menu = document.getElementsByName("Menu"); // 라디오 버튼
    let pizzaSize;
    let pizzaPrise;
    const deliveryTextprise = document.getElementsByClassName("deliveryTextprise")[0];

    let pizzaName;
    let menutitle;

    for (let i = 0; i < Menu.length; i++) {
      if (Menu[i].checked) {
        i % 2 == 0? (pizzaSize = "M") : (pizzaSize = "L");
        pizzaPrise = Menu[i].nextElementSibling.innerText;
        if(pizzaName === undefined){
          pizzaName = document.querySelectorAll('h4')[Math.floor(i / 2)].innerText
          menutitle = document.querySelectorAll('.menutitle')[Math.floor(i / 2)].innerText
        }else{
          pizzaName ===pizzaName
          menutitle === menutitle
        }
        console.log(pizzaPrise,"hh")
        totalprise += Number(pizzaPrise);
        console.log(i,"ddddd")
      }
      deliveryTextprise.innerHTML = totalprise;
      console.log(totalprise,"bb");
    }

    

    menuOption.innerHTML = `
  <li class="menuOption">
  <p>${pizzaName}-${menutitle} </p>
  <span>${pizzaSize}</span>
  <div class="sum">
    <input class="spinner" type="text" value='1' >
    <button class="plusPrise" onclick="pluse(this)">+</button>
    <button class="downPrise" onclick="down(this)">-</button>
  </div>
  <span class="optionPrise">${pizzaPrise}</span>
  <button onclick="removeList(this)">닫기</button>
  </li>
  `;
    deliveryMenuoption.insertAdjacentHTML("afterbegin", menuOption.innerHTML);
  }
}
// }

function pluse(button) {
  //플러스 버튼 클릭 시 1플러스
  const spinner = button.parentNode.querySelector(".spinner");

  const total = sumInputValues();
  console.log(spinner.value,"ss")
  if (total < 5) {
    spinner.value = Number(spinner.value) + 1;
    const Menu = document.getElementsByName("Menu"); // 라디오 버튼
    for (let i = 0; i < Menu.length; i++) {
      if (Menu[i].checked) {
        const optionPriseElement = button.parentNode.parentNode.querySelector(".optionPrise");
        const multipliedValue = Number(spinner.value) * Menu[i].nextElementSibling.innerText;
        optionPriseElement.innerText = multipliedValue;
    }
  } 
}
}
function down(button) {
  //마이너스 버튼 클릭 시 1마이너스
  const total = sumInputValues();
  const spinner = button.parentNode.querySelector(".spinner");
  if (total <= 5) {
    spinner.value = Number(spinner.value) - 1;
    spinner.value = spinner.value >= 0 ? spinner.value : 0;
    const Menu = document.getElementsByName("Menu"); // 라디오 버튼
    for (let i = 0; i < Menu.length; i++) {
      if (Menu[i].checked) {
        const optionPriseElement = button.parentNode.parentNode.querySelector(".optionPrise");
        const multipliedValue = Number(spinner.value) * Menu[i].nextElementSibling.innerText;
        optionPriseElement.innerText = multipliedValue;
    }
  } 
  }
  if ((spinner.value == 0)) {
    removeList(); //NOTE - 수정피료
  }
}

function removeList(button) {
  const menuOption = button.closest(".menuOption");
  menuOption.parentNode.removeChild(menuOption);
}

